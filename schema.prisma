datasource postgresql {
  url      = env("DB_URL")
  provider = "postgresql"
}

generator db {
  provider      = "go run github.com/prisma/prisma-client-go"
  binaryTargets = ["native"]
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime
  fullName  String
  firstName String
  lastName  String
  country   String
  lang      String
  uuid      String   @unique
  email     String   @unique
  username  String   @unique
  platforms String[]
  deezerId  String   @unique
  spotifyId String   @unique
  avatar    String
  token     Bytes
  plan      String
  // platformId String   @unique
  Role      Role
}

model Platform {
  id         Int      @id @default(autoincrement())
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  firstName  String
  lastName   String
  country    String
  lang       String
  token      String
  platformId String
  avatar     String
  plan       String
  Role       Role     @default(USER)
}

model Developer {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime
  Email     String
  Role      Role
}

enum Role {
  USER
  DEVELOPER
  ADMIN
}
